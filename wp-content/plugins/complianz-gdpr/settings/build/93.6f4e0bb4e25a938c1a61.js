"use strict";(globalThis.webpackChunkcomplianz_gdpr=globalThis.webpackChunkcomplianz_gdpr||[]).push([[93,800,2921,4759],{9957:(e,t,n)=>{function r(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e?.(r),!1===n||!r.defaultPrevented)return t?.(r)}}n.d(t,{m:()=>r})},10263:(e,t,n)=>{n.d(t,{c:()=>s});var r=n(51609);function s(e){const t=r.useRef(e);return r.useEffect((()=>{t.current=e})),r.useMemo((()=>(...e)=>t.current?.(...e)),[])}},10800:(e,t,n)=>{n.r(t),n.d(t,{default:()=>j});var r=n(86087),s=n(51609),i=n(9957),o=n(91071),c=n(62133),a=n(81351),l=n(85357),d=n(54150),u=n(12579),p=n(10790),h="Switch",[f,g]=(0,c.A)(h),[m,b]=f(h),y=s.forwardRef(((e,t)=>{const{__scopeSwitch:n,name:r,checked:c,defaultChecked:l,required:d,disabled:h,value:f="on",onCheckedChange:g,form:b,...y}=e,[v,_]=s.useState(null),k=(0,o.s)(t,(e=>_(e))),S=s.useRef(!1),C=!v||b||!!v.closest("form"),[j=!1,z]=(0,a.i)({prop:c,defaultProp:l,onChange:g});return(0,p.jsxs)(m,{scope:n,checked:j,disabled:h,children:[(0,p.jsx)(u.sG.button,{type:"button",role:"switch","aria-checked":j,"aria-required":d,"data-state":x(j),"data-disabled":h?"":void 0,disabled:h,value:f,...y,ref:k,onClick:(0,i.m)(e.onClick,(e=>{z((e=>!e)),C&&(S.current=e.isPropagationStopped(),S.current||e.stopPropagation())}))}),C&&(0,p.jsx)(w,{control:v,bubbles:!S.current,name:r,value:f,checked:j,required:d,disabled:h,form:b,style:{transform:"translateX(-100%)"}})]})}));y.displayName=h;var v="SwitchThumb",_=s.forwardRef(((e,t)=>{const{__scopeSwitch:n,...r}=e,s=b(v,n);return(0,p.jsx)(u.sG.span,{"data-state":x(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})}));_.displayName=v;var w=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,o=s.useRef(null),c=(0,l.Z)(n),a=(0,d.X)(t);return s.useEffect((()=>{const e=o.current,t=window.HTMLInputElement.prototype,s=Object.getOwnPropertyDescriptor(t,"checked").set;if(c!==n&&s){const t=new Event("click",{bubbles:r});s.call(e,n),e.dispatchEvent(t)}}),[c,n,r]),(0,p.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:o,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function x(e){return e?"checked":"unchecked"}var k=y,S=_,C=n(4219);const j=(0,r.memo)((({value:e,onChange:t,required:n,disabled:r,className:s,label:i,id:o})=>{const{getField:c}=(0,C.default)();let a=e;return"0"!==e&&"1"!==e||(a="1"===e),(0,p.jsx)("div",{className:"cmplz-input-group cmplz-switch-group",children:(0,p.jsx)(k,{className:"cmplz-switch-root "+s,checked:a,onCheckedChange:e=>{"banner"===c(o).data_target&&(e=e?"1":"0"),t(e)},disabled:r,required:n,children:(0,p.jsx)(S,{className:"cmplz-switch-thumb"})})})}))},12579:(e,t,n)=>{n.d(t,{hO:()=>a,sG:()=>c});var r=n(51609),s=n(75795),i=n(33362),o=n(10790),c=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"].reduce(((e,t)=>{const n=(0,i.TL)(`Primitive.${t}`),s=r.forwardRef(((e,r)=>{const{asChild:s,...i}=e,c=s?n:t;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,o.jsx)(c,{...i,ref:r})}));return s.displayName=`Primitive.${t}`,{...e,[t]:s}}),{});function a(e,t){e&&s.flushSync((()=>e.dispatchEvent(t)))}},32921:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var r=n(27723),s=n(44124),i=n(10790);const o=e=>(0,i.jsxs)(i.Fragment,{children:[" ",(0,i.jsx)(s.default,{url:e,target:"_blank",rel:"noopener noreferrer",text:(0,r.__)("For more information, please read this %sarticle%s.","complianz-gdpr")})," "]})},33362:(e,t,n)=>{n.d(t,{TL:()=>o});var r=n(51609),s=n(91071),i=n(10790);function o(e){const t=c(e),n=r.forwardRef(((e,n)=>{const{children:s,...o}=e,c=r.Children.toArray(s),a=c.find(l);if(a){const e=a.props.children,s=c.map((t=>t===a?r.Children.count(e)>1?r.Children.only(null):r.isValidElement(e)?e.props.children:null:t));return(0,i.jsx)(t,{...o,ref:n,children:r.isValidElement(e)?r.cloneElement(e,void 0,s):null})}return(0,i.jsx)(t,{...o,ref:n,children:s})}));return n.displayName=`${e}.Slot`,n}function c(e){const t=r.forwardRef(((e,t)=>{const{children:n,...i}=e;if(r.isValidElement(n)){const e=function(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}(n),o=function(e,t){const n={...t};for(const r in t){const s=e[r],i=t[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...e)=>{i(...e),s(...e)}:s&&(n[r]=s):"style"===r?n[r]={...s,...i}:"className"===r&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...e,...n}}(i,n.props);return n.type!==r.Fragment&&(o.ref=t?(0,s.t)(t,e):e),r.cloneElement(n,o)}return r.Children.count(n)>1?r.Children.only(null):null}));return t.displayName=`${e}.SlotClone`,t}var a=Symbol("radix.slottable");function l(e){return r.isValidElement(e)&&"function"==typeof e.type&&"__radixId"in e.type&&e.type.__radixId===a}},34759:(e,t,n)=>{n.r(t),n.d(t,{default:()=>o});var r=n(81621),s=n(16535),i=n(9588);const o=(0,r.vt)(((e,t)=>({integrationsLoaded:!1,fetching:!1,services:[],plugins:[],scripts:[],placeholders:[],blockedScripts:[],setScript:(t,n)=>{e((0,s.Ay)((e=>{if("block_script"===n){let n=e.blockedScripts;if(t.urls){for(const[e,r]of Object.entries(t.urls)){if(!r||0===r.length)continue;let e=!1;for(const[t,s]of Object.entries(n))r===t&&(e=!0);e||(n[r]=r)}e.blockedScripts=n}}const r=e.scripts[n].findIndex((e=>e.id===t.id));-1!==r&&(e.scripts[n][r]=t)})))},fetchIntegrationsData:async()=>{if(t().fetching)return;e({fetching:!0});const{services:n,plugins:r,scripts:s,placeholders:i,blocked_scripts:o}=await c();let a=s;a.block_script&&a.block_script.length>0&&a.block_script.forEach(((e,t)=>{e.id=t})),a.add_script&&a.add_script.length>0&&a.add_script.forEach(((e,t)=>{e.id=t})),a.whitelist_script&&a.whitelist_script.length>0&&a.whitelist_script.forEach(((e,t)=>{e.id=t})),e((()=>({integrationsLoaded:!0,services:n,plugins:r,scripts:a,fetching:!1,placeholders:i,blockedScripts:o})))},addScript:n=>{e({fetching:!0}),t().scripts[n]&&Array.isArray(t().scripts[n])||e((0,s.Ay)((e=>{e.scripts[n]=[]}))),e((0,s.Ay)((e=>{e.scripts[n].push({name:"general",id:e.scripts[n].length,enable:!0})})));let r=t().scripts;return i.doAction("update_scripts",{scripts:r}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},saveScript:(n,r)=>{e({fetching:!0}),t().scripts[r]&&Array.isArray(t().scripts[r])||e((0,s.Ay)((e=>{e.scripts[r]=[]}))),e((0,s.Ay)((e=>{const t=e.scripts[r].findIndex((e=>e.id===n.id));-1!==t&&(e.scripts[r][t]=n)})));let o=t().scripts;return i.doAction("update_scripts",{scripts:o}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},deleteScript:(n,r)=>{e({fetching:!0}),t().scripts[r]&&Array.isArray(t().scripts[r])||e((0,s.Ay)((e=>{e.scripts[r]=[]}))),e((0,s.Ay)((e=>{const t=e.scripts[r].findIndex((e=>e.id===n.id));-1!==t&&e.scripts[r].splice(t,1)})));let o=t().scripts;return i.doAction("update_scripts",{scripts:o}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},updatePluginStatus:async(t,n)=>{e({fetching:!0}),e((0,s.Ay)((e=>{const r=e.plugins.findIndex((e=>e.id===t));-1!==r&&(e.plugins[r].enabled=n)})));const r=await i.doAction("update_plugin_status",{plugin:t,enabled:n}).then((e=>e)).catch((e=>{console.error(e)}));return e({fetching:!1}),r},updatePlaceholderStatus:async(t,n,r)=>{e({fetching:!0}),r&&e((0,s.Ay)((e=>{const r=e.plugins.findIndex((e=>e.id===t));-1!==r&&(e.plugins[r].placeholder=n?"enabled":"disabled")})));const o=await i.doAction("update_placeholder_status",{id:t,enabled:n}).then((e=>e)).catch((e=>{console.error(e)}));return e({fetching:!1}),o}}))),c=()=>i.doAction("get_integrations_data",{}).then((e=>e)).catch((e=>{console.error(e)}))},54150:(e,t,n)=>{n.d(t,{X:()=>i});var r=n(51609),s=n(88200);function i(e){const[t,n]=r.useState(void 0);return(0,s.N)((()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const t=new ResizeObserver((t=>{if(!Array.isArray(t))return;if(!t.length)return;const r=t[0];let s,i;if("borderBoxSize"in r){const e=r.borderBoxSize,t=Array.isArray(e)?e[0]:e;s=t.inlineSize,i=t.blockSize}else s=e.offsetWidth,i=e.offsetHeight;n({width:s,height:i})}));return t.observe(e,{box:"border-box"}),()=>t.unobserve(e)}n(void 0)}),[e]),t}},60093:(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var r=n(34759),s=n(86087),i=n(27723),o=n(4219),c=n(32921),a=n(10800),l=n(10790);const d=(0,s.memo)((()=>{const{updatePlaceholderStatus:e,fetching:t,updatePluginStatus:d,integrationsLoaded:u,plugins:p,fetchIntegrationsData:h}=(0,r.default)(),[f,g]=(0,s.useState)(""),[m,b]=(0,s.useState)(!1),[y,v]=(0,s.useState)(""),{getFieldValue:_}=(0,o.default)(),[w,x]=(0,s.useState)(null);(0,s.useEffect)((()=>{n.e(3757).then(n.bind(n,83757)).then((({default:e})=>{x((()=>e))}))}),[]),(0,s.useEffect)((()=>{u||h(),u&&(1==_("safe_mode")?(v((0,i.__)("Safe Mode enabled. To manage integrations, disable Safe Mode under Tools - Support.","complianz-gdpr")),b(!0)):0===p.length&&(v((0,i.__)("No active plugins detected in the integrations list.","complianz-gdpr")),b(!0)))}),[u]),(0,s.useEffect)((()=>{}),[p]);const k=[{name:(0,i.__)("Plugin","complianz-gdpr"),selector:e=>e.label,sortable:!0,grow:5},{name:(0,i.__)("Placeholder","complianz-gdpr"),selector:e=>e.placeholderControl,sortable:!0,sortFunction:(e,t)=>{const n=e.placeholder,r=t.placeholder;return n>r?1:r>n?-1:0},grow:2},{name:(0,i.__)("Status","complianz-gdpr"),selector:e=>e.enabledControl,sortable:!0,sortFunction:(e,t)=>{const n=e.enabled,r=t.enabled;return n>r?1:r>n?-1:0},grow:1,right:!0}];let S=p.filter((e=>e.label.toLowerCase().includes(f.toLowerCase())));S.sort(((e,t)=>e.label<t.label?-1:e.label>t.label?1:0));let C=[];return S.forEach((n=>{let r={...n};r.enabledControl=(0,l.jsx)(a.default,{disabled:t,className:"cmplz-switch-input-tiny",value:n.enabled,onChange:e=>(async(e,t)=>{await d(e.id,t),await h()})(n,e)}),r.placeholderControl=(0,l.jsx)(l.Fragment,{children:"none"!==n.placeholder&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(a.default,{className:"cmplz-switch-input-tiny",disabled:"none"===n.placeholder||t,value:"enabled"===n.placeholder,onChange:t=>(async(t,n)=>{await e(t.id,n,!0)})(n,t)})})}),C.push(r)})),(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("p",{children:[(0,i.__)("Below you will find the plugins currently detected and integrated with Complianz. Most plugins work by default, but you can also add a plugin to the script center or add it to the integration list.","complianz-gdpr"),(0,c.default)("https://complianz.io/developers-guide-for-third-party-integrations"),(0,i.__)("Enabled plugins will be blocked on the front-end of your website until the user has given consent (opt-in), or after the user has revoked consent (opt-out). When possible a placeholder is activated. You can also disable or configure the placeholder to your liking.","complianz-gdpr"),(0,c.default)("https://complianz.io/blocking-recaptcha-manually/")]}),(0,l.jsx)("div",{className:"cmplz-table-header",children:p.length>5&&(0,l.jsx)("input",{type:"text",placeholder:(0,i.__)("Search","complianz-gdpr"),value:f,onChange:e=>g(e.target.value)})}),(m||0===S.length)&&(0,l.jsx)("div",{className:"cmplz-settings-overlay",children:(0,l.jsx)("div",{className:"cmplz-settings-overlay-message",children:y})}),0===C.length&&(0,l.jsx)(l.Fragment,{}),!m&&C.length>0&&w&&(0,l.jsx)(l.Fragment,{children:(0,l.jsx)(w,{columns:k,data:C,dense:!0,pagination:!0,paginationPerPage:5,noDataComponent:(0,l.jsx)("div",{className:"cmplz-no-documents",children:(0,i.__)("No plugins","complianz-gdpr")}),persistTableHead:!0,theme:"really-simple-plugins",customStyles:{headCells:{style:{paddingLeft:"0",paddingRight:"0"}},cells:{style:{paddingLeft:"0",paddingRight:"0"}}}})})]})}))},62133:(e,t,n)=>{n.d(t,{A:()=>i});var r=n(51609),s=n(10790);function i(e,t=[]){let n=[];const i=()=>{const t=n.map((e=>r.createContext(e)));return function(n){const s=n?.[e]||t;return r.useMemo((()=>({[`__scope${e}`]:{...n,[e]:s}})),[n,s])}};return i.scopeName=e,[function(t,i){const o=r.createContext(i),c=n.length;n=[...n,i];const a=t=>{const{scope:n,children:i,...a}=t,l=n?.[e]?.[c]||o,d=r.useMemo((()=>a),Object.values(a));return(0,s.jsx)(l.Provider,{value:d,children:i})};return a.displayName=t+"Provider",[a,function(n,s){const a=s?.[e]?.[c]||o,l=r.useContext(a);if(l)return l;if(void 0!==i)return i;throw new Error(`\`${n}\` must be used within \`${t}\``)}]},o(i,...t)]}function o(...e){const t=e[0];if(1===e.length)return t;const n=()=>{const n=e.map((e=>({useScope:e(),scopeName:e.scopeName})));return function(e){const s=n.reduce(((t,{useScope:n,scopeName:r})=>({...t,...n(e)[`__scope${r}`]})),{});return r.useMemo((()=>({[`__scope${t.scopeName}`]:s})),[s])}};return n.scopeName=t.scopeName,n}},81351:(e,t,n)=>{n.d(t,{i:()=>i});var r=n(51609),s=n(10263);function i({prop:e,defaultProp:t,onChange:n=()=>{}}){const[i,o]=function({defaultProp:e,onChange:t}){const n=r.useState(e),[i]=n,o=r.useRef(i),c=(0,s.c)(t);return r.useEffect((()=>{o.current!==i&&(c(i),o.current=i)}),[i,o,c]),n}({defaultProp:t,onChange:n}),c=void 0!==e,a=c?e:i,l=(0,s.c)(n);return[a,r.useCallback((t=>{if(c){const n="function"==typeof t?t(e):t;n!==e&&l(n)}else o(t)}),[c,e,o,l])]}},85357:(e,t,n)=>{n.d(t,{Z:()=>s});var r=n(51609);function s(e){const t=r.useRef({value:e,previous:e});return r.useMemo((()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous)),[e])}},88200:(e,t,n)=>{n.d(t,{N:()=>s});var r=n(51609),s=globalThis?.document?r.useLayoutEffect:()=>{}},91071:(e,t,n)=>{n.d(t,{s:()=>o,t:()=>i});var r=n(51609);function s(e,t){if("function"==typeof e)return e(t);null!=e&&(e.current=t)}function i(...e){return t=>{let n=!1;const r=e.map((e=>{const r=s(e,t);return n||"function"!=typeof r||(n=!0),r}));if(n)return()=>{for(let t=0;t<r.length;t++){const n=r[t];"function"==typeof n?n():s(e[t],null)}}}}function o(...e){return r.useCallback(i(...e),e)}}}]);