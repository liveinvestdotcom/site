"use strict";(globalThis.webpackChunkcomplianz_gdpr=globalThis.webpackChunkcomplianz_gdpr||[]).push([[847,2489,2868,2921,4759,5228,9091,9758],{10800:(e,t,s)=>{s.r(t),s.d(t,{default:()=>C});var a=s(86087),r=s(51609),c=s(9957),l=s(91071),i=s(62133),n=s(81351),o=s(85357),d=s(54150),p=s(12579),u=s(10790),h="Switch",[m,g]=(0,i.A)(h),[f,b]=m(h),_=r.forwardRef(((e,t)=>{const{__scopeSwitch:s,name:a,checked:i,defaultChecked:o,required:d,disabled:h,value:m="on",onCheckedChange:g,form:b,..._}=e,[x,k]=r.useState(null),y=(0,l.s)(t,(e=>k(e))),w=r.useRef(!1),z=!x||b||!!x.closest("form"),[C=!1,A]=(0,n.i)({prop:i,defaultProp:o,onChange:g});return(0,u.jsxs)(f,{scope:s,checked:C,disabled:h,children:[(0,u.jsx)(p.sG.button,{type:"button",role:"switch","aria-checked":C,"aria-required":d,"data-state":v(C),"data-disabled":h?"":void 0,disabled:h,value:m,..._,ref:y,onClick:(0,c.m)(e.onClick,(e=>{A((e=>!e)),z&&(w.current=e.isPropagationStopped(),w.current||e.stopPropagation())}))}),z&&(0,u.jsx)(j,{control:x,bubbles:!w.current,name:a,value:m,checked:C,required:d,disabled:h,form:b,style:{transform:"translateX(-100%)"}})]})}));_.displayName=h;var x="SwitchThumb",k=r.forwardRef(((e,t)=>{const{__scopeSwitch:s,...a}=e,r=b(x,s);return(0,u.jsx)(p.sG.span,{"data-state":v(r.checked),"data-disabled":r.disabled?"":void 0,...a,ref:t})}));k.displayName=x;var j=e=>{const{control:t,checked:s,bubbles:a=!0,...c}=e,l=r.useRef(null),i=(0,o.Z)(s),n=(0,d.X)(t);return r.useEffect((()=>{const e=l.current,t=window.HTMLInputElement.prototype,r=Object.getOwnPropertyDescriptor(t,"checked").set;if(i!==s&&r){const t=new Event("click",{bubbles:a});r.call(e,s),e.dispatchEvent(t)}}),[i,s,a]),(0,u.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...c,tabIndex:-1,ref:l,style:{...e.style,...n,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function v(e){return e?"checked":"unchecked"}var y=_,w=k,z=s(4219);const C=(0,a.memo)((({value:e,onChange:t,required:s,disabled:a,className:r,label:c,id:l})=>{const{getField:i}=(0,z.default)();let n=e;return"0"!==e&&"1"!==e||(n="1"===e),(0,u.jsx)("div",{className:"cmplz-input-group cmplz-switch-group",children:(0,u.jsx)(y,{className:"cmplz-switch-root "+r,checked:n,onCheckedChange:e=>{"banner"===i(l).data_target&&(e=e?"1":"0"),t(e)},disabled:a,required:s,children:(0,u.jsx)(w,{className:"cmplz-switch-thumb"})})})}))},25228:(e,t,s)=>{s.r(t),s.d(t,{default:()=>n});var a=s(86087),r=s(21366),c=s(45111),l=s(27723),i=s(10790);const n=(0,a.memo)((({value:e=!1,onChange:t,required:s,defaultValue:a,disabled:n,options:o={},canBeEmpty:d=!0,label:p})=>{if(Array.isArray(o)){let e={};o.map((t=>{e[t.value]=t.label})),o=e}return d?(""===e||!1===e||0===e)&&(e="0",o={0:(0,l.__)("Select an option","complianz-gdpr"),...o}):e||(e=Object.keys(o)[0]),(0,i.jsx)("div",{className:"cmplz-input-group cmplz-select-group",children:(0,i.jsxs)(r.bL,{value:e,defaultValue:a,onValueChange:t,required:s,disabled:n&&!Array.isArray(n),children:[(0,i.jsxs)(r.l9,{className:"cmplz-select-group__trigger",children:[(0,i.jsx)(r.WT,{}),(0,i.jsx)(c.default,{name:"chevron-down"})]}),(0,i.jsxs)(r.UC,{className:"cmplz-select-group__content",position:"popper",children:[(0,i.jsx)(r.PP,{className:"cmplz-select-group__scroll-button",children:(0,i.jsx)(c.default,{name:"chevron-up"})}),(0,i.jsx)(r.LM,{className:"cmplz-select-group__viewport",children:(0,i.jsx)(r.YJ,{children:Object.entries(o).map((([e,t])=>(0,i.jsx)(r.q7,{disabled:Array.isArray(n)&&n.includes(e),className:"cmplz-select-group__item",value:e,children:(0,i.jsx)(r.p4,{children:t})},e)))})}),(0,i.jsx)(r.wn,{className:"cmplz-select-group__scroll-button",children:(0,i.jsx)(c.default,{name:"chevron-down"})})]})]})},p)}))},32489:(e,t,s)=>{s.r(t),s.d(t,{default:()=>c});var a=s(51609),r=s(10790);const c=(0,a.memo)((({value:e,onChange:t,required:s,disabled:c,id:l,name:i,placeholder:n})=>{const o=l||i,[d,p]=(0,a.useState)("");return(0,a.useEffect)((()=>{p(e||"")}),[e]),(0,a.useEffect)((()=>{if(e===d)return;const s=setTimeout((()=>{t(d)}),400);return()=>{clearTimeout(s)}}),[d]),(0,r.jsx)("div",{className:"cmplz-input-group cmplz-text-input-group",children:(0,r.jsx)("input",{type:"text",id:o,name:i,value:d,onChange:e=>(e=>{p(e)})(e.target.value),required:s,disabled:c,className:"cmplz-text-input-group__input",placeholder:n})})}))},32921:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var a=s(27723),r=s(44124),c=s(10790);const l=e=>(0,c.jsxs)(c.Fragment,{children:[" ",(0,c.jsx)(r.default,{url:e,target:"_blank",rel:"noopener noreferrer",text:(0,a.__)("For more information, please read this %sarticle%s.","complianz-gdpr")})," "]})},34759:(e,t,s)=>{s.r(t),s.d(t,{default:()=>l});var a=s(81621),r=s(16535),c=s(9588);const l=(0,a.vt)(((e,t)=>({integrationsLoaded:!1,fetching:!1,services:[],plugins:[],scripts:[],placeholders:[],blockedScripts:[],setScript:(t,s)=>{e((0,r.Ay)((e=>{if("block_script"===s){let s=e.blockedScripts;if(t.urls){for(const[e,a]of Object.entries(t.urls)){if(!a||0===a.length)continue;let e=!1;for(const[t,r]of Object.entries(s))a===t&&(e=!0);e||(s[a]=a)}e.blockedScripts=s}}const a=e.scripts[s].findIndex((e=>e.id===t.id));-1!==a&&(e.scripts[s][a]=t)})))},fetchIntegrationsData:async()=>{if(t().fetching)return;e({fetching:!0});const{services:s,plugins:a,scripts:r,placeholders:c,blocked_scripts:l}=await i();let n=r;n.block_script&&n.block_script.length>0&&n.block_script.forEach(((e,t)=>{e.id=t})),n.add_script&&n.add_script.length>0&&n.add_script.forEach(((e,t)=>{e.id=t})),n.whitelist_script&&n.whitelist_script.length>0&&n.whitelist_script.forEach(((e,t)=>{e.id=t})),e((()=>({integrationsLoaded:!0,services:s,plugins:a,scripts:n,fetching:!1,placeholders:c,blockedScripts:l})))},addScript:s=>{e({fetching:!0}),t().scripts[s]&&Array.isArray(t().scripts[s])||e((0,r.Ay)((e=>{e.scripts[s]=[]}))),e((0,r.Ay)((e=>{e.scripts[s].push({name:"general",id:e.scripts[s].length,enable:!0})})));let a=t().scripts;return c.doAction("update_scripts",{scripts:a}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},saveScript:(s,a)=>{e({fetching:!0}),t().scripts[a]&&Array.isArray(t().scripts[a])||e((0,r.Ay)((e=>{e.scripts[a]=[]}))),e((0,r.Ay)((e=>{const t=e.scripts[a].findIndex((e=>e.id===s.id));-1!==t&&(e.scripts[a][t]=s)})));let l=t().scripts;return c.doAction("update_scripts",{scripts:l}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},deleteScript:(s,a)=>{e({fetching:!0}),t().scripts[a]&&Array.isArray(t().scripts[a])||e((0,r.Ay)((e=>{e.scripts[a]=[]}))),e((0,r.Ay)((e=>{const t=e.scripts[a].findIndex((e=>e.id===s.id));-1!==t&&e.scripts[a].splice(t,1)})));let l=t().scripts;return c.doAction("update_scripts",{scripts:l}).then((t=>(e({fetching:!1}),t))).catch((e=>{console.error(e)}))},updatePluginStatus:async(t,s)=>{e({fetching:!0}),e((0,r.Ay)((e=>{const a=e.plugins.findIndex((e=>e.id===t));-1!==a&&(e.plugins[a].enabled=s)})));const a=await c.doAction("update_plugin_status",{plugin:t,enabled:s}).then((e=>e)).catch((e=>{console.error(e)}));return e({fetching:!1}),a},updatePlaceholderStatus:async(t,s,a)=>{e({fetching:!0}),a&&e((0,r.Ay)((e=>{const a=e.plugins.findIndex((e=>e.id===t));-1!==a&&(e.plugins[a].placeholder=s?"enabled":"disabled")})));const l=await c.doAction("update_placeholder_status",{id:t,enabled:s}).then((e=>e)).catch((e=>{console.error(e)}));return e({fetching:!1}),l}}))),i=()=>c.doAction("get_integrations_data",{}).then((e=>e)).catch((e=>{console.error(e)}))},60847:(e,t,s)=>{s.r(t),s.d(t,{default:()=>d}),s(10800);var a=s(32921),r=s(32489),c=s(25228),l=s(27723),i=s(34759),n=s(82868),o=s(10790);const d=e=>{const{setScript:t,fetching:s,placeholders:d}=(0,i.default)(),p=e.script,u=e.type,h=(s,a)=>{let r={...p};r[a]=s,t(r,e.type)};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)("div",{className:"cmplz-details-row cmplz-details-row__checkbox",children:[(0,o.jsx)("label",{children:(0,l.__)("Placeholder","complianz-gdpr")}),(0,o.jsx)(n.default,{id:p.id+"placeholder",disabled:s,value:p.enable_placeholder,onChange:e=>h(e,"enable_placeholder"),options:{true:(0,l.__)("Enable placeholder","complianz-gdpr")}})]}),!!p.enable_placeholder&&(0,o.jsxs)(o.Fragment,{children:["block_script"===u&&(0,o.jsx)("div",{className:"cmplz-details-row cmplz-details-row__checkbox",children:(0,o.jsx)(n.default,{id:p.id+"iframe",disabled:s,value:p.iframe||"",onChange:e=>h(e||"","iframe"),options:{true:(0,l.__)("The blocked content is an iframe","complianz-gdpr")}})}),!p.iframe&&(0,o.jsxs)("div",{className:"cmplz-details-row cmplz-details-row",children:[(0,o.jsxs)("p",{children:[(0,l.__)("Enter the div class or ID that should be targeted.","complianz-gdpr"),(0,a.default)("https://complianz.io/integrating-plugins/#placeholder/")]}),(0,o.jsx)(r.default,{disabled:s,value:p.placeholder_class||"",onChange:e=>h(e||"","placeholder_class"),name:"placeholder_class",placeholder:(0,l.__)("Your CSS class","complianz-gdpr")})]}),(0,o.jsx)("div",{className:"cmplz-details-row cmplz-details-row__checkbox",children:(0,o.jsx)(c.default,{disabled:s,value:p.placeholder?p.placeholder:"default",options:d,onChange:e=>h(e||"default","placeholder")})})]})]})}},79758:(e,t,s)=>{s.r(t),s.d(t,{default:()=>p});var a=s(86087),r=s(9588),c=s(4219),l=s(52043),i=s(56427),n=s(99091),o=s(32828),d=s(10790);const p=(0,a.memo)((({type:e="action",style:t="tertiary",label:s,onClick:p,href:u="",target:h="",disabled:m,action:g,field:f,children:b})=>{if(!s&&!b)return null;const _=(f&&f.button_text?f.button_text:s)||b,{fetchFieldsData:x,showSavedSettingsNotice:k}=(0,c.default)(),{setInitialLoadCompleted:j,setProgress:v}=(0,n.UseCookieScanData)(),{setProgressLoaded:y}=(0,o.default)(),{selectedSubMenuItem:w}=(0,l.default)(),[z,C]=(0,a.useState)(!1),A=`button cmplz-button button--${t} button-${e}`,S=async e=>{await r.doAction(f.action,{}).then((e=>{e.success&&(x(w),"reset_settings"===e.id&&(j(!1),v(0),y(!1)),k(e.message))}))},N=f&&f.warn?f.warn:"";return"action"===e?(0,d.jsxs)(d.Fragment,{children:[i.__experimentalConfirmDialog&&(0,d.jsx)(i.__experimentalConfirmDialog,{isOpen:z,onConfirm:async()=>{C(!1),await S()},onCancel:()=>{C(!1)},children:N}),(0,d.jsx)("button",{className:A,onClick:async t=>{if("action"!==e||!p)return"action"===e&&g?i.__experimentalConfirmDialog?void(f&&f.warn?C(!0):await S()):void await S():void(window.location.href=f.url);p(t)},disabled:m,children:_})]}):"link"===e?(0,d.jsx)("a",{className:A,href:u,target:h,children:_}):void 0}))},82868:(e,t,s)=>{s.r(t),s.d(t,{default:()=>o});var a=s(92731),r=s(27723),c=s(45111),l=s(86087),i=s(79758),n=s(10790);const o=(0,l.memo)((({indeterminate:e,label:t,value:s,id:o,onChange:d,required:p,disabled:u,options:h={}})=>{const[m,g]=(0,l.useState)(!1),[f,b]=(0,l.useState)(!1);let _=s;Array.isArray(_)||(_=""===_?[]:[_]),(0,l.useEffect)((()=>{let e=1===Object.keys(h).length&&"true"===Object.keys(h)[0];g(e)}),[]),e&&(s=!0);const x=_;let k=!1;Object.keys(h).length>10&&(k=!0);const j=e=>m?s:x.includes(""+e)||x.includes(parseInt(e)),v=()=>{b(!f)};let y=u&&!Array.isArray(u);return 0===Object.keys(h).length?(0,n.jsx)(n.Fragment,{children:(0,r.__)("No options found","complianz-gdpr")}):(0,n.jsxs)("div",{className:"cmplz-checkbox-group",children:[Object.entries(h).map((([r,l],i)=>(0,n.jsxs)("div",{className:"cmplz-checkbox-group__item"+(!f&&i>9?" cmplz-hidden":""),children:[(0,n.jsx)(a.bL,{className:"cmplz-checkbox-group__checkbox",id:o+"_"+r,checked:j(r),"aria-label":t,disabled:y||Array.isArray(u)&&u.includes(r),required:p,onCheckedChange:e=>((e,t)=>{if(m)d(!s);else{const e=x.includes(""+t)||x.includes(parseInt(t))?x.filter((e=>e!==""+t&&e!==parseInt(t))):[...x,t];d(e)}})(0,r),children:(0,n.jsx)(a.C1,{className:"cmplz-checkbox-group__indicator",children:(0,n.jsx)(c.default,{name:e?"indeterminate":"check",size:14,color:"dark-blue"})})}),(0,n.jsx)("label",{className:"cmplz-checkbox-group__label",htmlFor:o+"_"+r,children:l})]},r))),!f&&k&&(0,n.jsx)(i.default,{onClick:()=>v(),children:(0,r.__)("Show more","complianz-gdpr")}),f&&k&&(0,n.jsx)(i.default,{onClick:()=>v(),children:(0,r.__)("Show less","complianz-gdpr")})]})}))},99091:(e,t,s)=>{s.r(t),s.d(t,{UseCookieScanData:()=>c});var a=s(81621),r=s(9588);const c=(0,a.vt)(((e,t)=>({initialLoadCompleted:!1,setInitialLoadCompleted:t=>e({initialLoadCompleted:t}),iframeLoaded:!1,loading:!1,nextPage:!1,progress:0,cookies:[],lastLoadedIframe:"",setIframeLoaded:t=>e({iframeLoaded:t}),setLastLoadedIframe:t=>e((e=>({lastLoadedIframe:t}))),setProgress:t=>e({progress:t}),fetchProgress:()=>(e({loading:!0}),r.doAction("get_scan_progress",{}).then((t=>(e({initialLoadCompleted:!0,loading:!1,nextPage:t.next_page,progress:t.progress,cookies:t.cookies}),t))))})))}}]);